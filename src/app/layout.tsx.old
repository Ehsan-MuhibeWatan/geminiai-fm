import type { Metadata } from "next";
import { JetBrains_Mono } from "next/font/google";
import clsx from "clsx";
import Script from "next/script";
import "./globals.css";

const jetBrainsMono = JetBrains_Mono({
  weight: "400",
  subsets: [],
  preload: true,
});

export const metadata: Metadata = {
  metadataBase: new URL("https://www.openai.fm"),
  title: "OpenAI.fm",
  description:
    "An interactive demo for developers to try the new text-to-speech model in the OpenAI API",
  authors: [{ name: "OpenAI" }],
  openGraph: {
    title: "OpenAI.fm",
    description:
      "An interactive demo for developers to try the new text-to-speech model in the OpenAI API",
    images: [
      {
        url: "/og-image.png",
        width: 1200,
        height: 630,
        alt: "OpenAI.fm, a text-to-speech demo",
      },
    ],
  },
  twitter: {
    card: "summary_large_image",
  },
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <head>
        {/* Google Analytics */}
        <Script
          src="https://www.googletagmanager.com/gtag/js?id=G-YVZ3QD0WH8"
          strategy="afterInteractive"
        />
        <Script id="google-analytics" strategy="afterInteractive">
          {`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-YVZ3QD0WH8', {
              anonymize_ip: true
            });
          `}
        </Script>
      </head>

      <body className={clsx("antialiased", jetBrainsMono.className)}>
        {/* COMMUNITY NOTICE BANNER */}
        <div
          style={{
            background: "#FEF3C7",
            borderBottom: "1px solid #F59E0B",
            padding: "10px",
            fontSize: "14px",
            color: "#92400E",
          }}
        >
          <strong>⚠️ Community Notice:</strong>
          <br />
          This is a live demo running on a paid API and usage is actively monitored.
          If this tool helps you, support the work by liking, subscribing, and sharing the tutorial.
          Public access may be restricted or disabled without notice.
          <br />
          <br />
          <strong>⚠️ Community Notice:</strong>
          <br />
          Yeh ek live demo hai jo paid API par chal raha hai aur usage monitor ho rahi hai.
          Agar yeh tool aap ke kaam ka hai, to video ko like karein, subscribe karein aur share karein.
          Public access bina notice ke band bhi kiya ja sakta hai.
        </div>

        {/* APP CONTENT */}
        {children}
      </body>
    </html>
  );
}
